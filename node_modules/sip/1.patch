commit 15bacd278ca94b1fe3bdf0d17b29b2b06ac54a1f
Author: Kirill Mikhailov <kirill.mikhailov@gmail.com>
Date:   Fri Apr 26 15:52:20 2013 +0400

    changed transport.destroy to prevent throwing exceptions if called twice.
    It should resove second part of issue #36.

diff --git a/sip.js b/sip.js
index 24bbcc8..383cc74 100644
--- a/sip.js
+++ b/sip.js
@@ -624,7 +624,9 @@ function makeTransport(options, callback) {
       }
     },
     destroy: function() { 
-      Object.keys(protocols).forEach(function(key) { protocols[key].destroy(); });
+      var protos = protocols;
+      protocols = [];
+      Object.keys(protos).forEach(function(key) { protos[key].destroy(); });
     },
   };
 }
